<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="color-scheme" content="light"> <!-- prevent dark UA bg -->
  <title>Turfile Orbit</title>
  <style>
    :root {
      --orbit-size: min(52vmin, 320px);
      --logo-size: min(18vmin, 140px);
      font-family: "Segoe UI", system-ui, -apple-system, sans-serif;
    }

    html, body {
      margin: 0;
      height: 100%;
      background: transparent !important;
    }

    body {
      display: grid;
      place-items: center;   /* centers everything */
    }

    main {
      position: relative;
      display: grid;
      place-items: center;   /* centers the wheel inside main */
      width: 100%;
      height: 100%;
      padding: 0;            /* no extra spacing */
    }

    .scene {
      position: relative;
      width: var(--orbit-size);
      aspect-ratio: 1/1;
      display: grid;
      place-items: center;
    }

    /* Optional glow — remove if you don’t want it */
    .scene::before {
      content: "";
      position: absolute;
      inset: 12%;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(110, 231, 183, 0.18), rgba(110, 231, 183, 0) 70%);
      filter: blur(18px);
      opacity: 0.65;
    }

    .logo {
      z-index: 2;
      width: var(--logo-size);
      aspect-ratio: 1/1;
      display: grid;
      place-items: center;
    }

    .logo img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    .orbit {
      position: absolute;
      inset: 0;
      margin: auto;
      width: var(--orbit-size);
      height: var(--orbit-size);
      border-radius: 50%;
      display: grid;
      place-items: center;
      animation: spin 28s linear infinite;
    }

    /* Optional dashed orbit ring */
    .orbit::before {
      content: "";
      position: absolute;
      inset: 8%;
      border-radius: 50%;
      border: 2px dashed rgba(17, 24, 39, 0.08);
    }

    .icon {
      --position: 0;
      position: absolute;
      top: 50%;
      left: 50%;
      width: 56px;
      height: 56px;
      margin: -28px;
      display: grid;
      place-items: center;
      border-radius: 24px;
      background: linear-gradient(145deg, rgba(15, 23, 42, 0.92), rgba(30, 41, 59, 0.78));
      box-shadow:
        0 0 28px rgba(110, 231, 183, 0.3),
        0 12px 32px rgba(15, 23, 42, 0.55),
        inset 0 0 18px rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(6px);
      transform: rotate(calc(var(--position) * 45deg))
        translateY(calc(-0.5 * var(--orbit-size)))
        rotate(calc(var(--position) * -45deg));
      transition: transform 1.9s cubic-bezier(0.22, 1, 0.36, 1), opacity 0.8s ease;
      animation: glowPulse 8s ease-in-out infinite;
      animation-delay: calc(var(--position) * -0.35s);
    }

    .icon img {
      width: 70%;
      height: 70%;
      object-fit: contain;
      filter: drop-shadow(0 6px 12px rgba(0, 0, 0, 0.45));
      animation: spin 28s linear infinite reverse;
    }

    .icon.is-pop { opacity: 0.75; }
    .icon.is-pop img {
      transform: scale(1.12);
      filter: drop-shadow(0 0 18px rgba(110, 231, 183, 0.65));
    }

    @keyframes glowPulse {
      0%, 100% {
        box-shadow:
          0 0 18px rgba(110, 231, 183, 0.35),
          0 12px 30px rgba(8, 13, 32, 0.45),
          inset 0 0 18px rgba(255, 255, 255, 0.04);
      }
      50% {
        box-shadow:
          0 0 32px rgba(110, 231, 183, 0.6),
          0 16px 34px rgba(8, 13, 32, 0.6),
          inset 0 0 24px rgba(255, 255, 255, 0.08);
      }
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    @media (max-width: 600px) {
      .icon {
        width: 44px;
        height: 44px;
        margin: -22px;
      }
      .icon img {
        width: 76%;
        height: 76%;
      }
    }
  </style>
</head>
<body>
  <main>
    <div class="scene" role="presentation">
      <div class="logo">
        <img src="assets/turfilelogo.svg" alt="Turfile logo" />
      </div>
      <div class="orbit" aria-hidden="true">
        <div class="icon"><img src="assets/eaarth.svg" alt="Planet icon" /></div>
        <div class="icon"><img src="assets/tree.svg" alt="Tree icon" /></div>
        <div class="icon"><img src="assets/turtle.svg" alt="Turtle icon" /></div>
        <div class="icon"><img src="assets/map.svg" alt="Map icon" /></div>
        <div class="icon"><img src="assets/palmtree.svg" alt="Palm tree icon" /></div>
        <div class="icon"><img src="assets/rabbit.svg" alt="Rabbit icon" /></div>
        <div class="icon"><img src="assets/water.svg" alt="Water icon" /></div>
        <div class="icon"><img src="assets/satellite.svg" alt="Satellite icon" /></div>
      </div>
    </div>
  </main>

  <script>
    const orbitIcons = Array.from(document.querySelectorAll('.icon'));
    const total = orbitIcons.length;
    const positions = [...Array(total).keys()];
    let current = positions.slice();

    const shuffle = arr => {
      const copy = arr.slice();
      for (let i = copy.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [copy[i], copy[j]] = [copy[j], copy[i]];
      }
      return copy;
    };

    const applyOrder = order => {
      orbitIcons.forEach((icon, idx) => {
        icon.style.setProperty('--position', order[idx]);
        icon.classList.add('is-pop');
        setTimeout(() => icon.classList.remove('is-pop'), 900);
      });
    };

    const reshuffle = () => {
      let next = shuffle(positions);
      if (next.every((v, i) => v === current[i])) {
        const a = Math.floor(Math.random() * total);
        const b = (a + Math.floor(total / 2)) % total;
        [next[a], next[b]] = [next[b], next[a]];
      }
      current = next;
      applyOrder(current);
    };

    const schedule = () => {
      const delay = 4600 + Math.random() * 2400;
      setTimeout(() => { reshuffle(); schedule(); }, delay);
    };

    applyOrder(current);
    setTimeout(() => { reshuffle(); schedule(); }, 2200);
  </script>
</body>
</html>
